pmset -g log | grep -E 'Display is turned on|Clamshell Sleep' | gawk '
/Display is turned on/{
  if (!on_time) {
    on_time=$1" "$2;
    on_sec=mktime(gensub(/[-:+]/," ","g",$1" "$2))
  }
  if (off_time) {
    off_time=""
  }
}
/Clamshell Sleep/{
  off_time=$1" "$2;
  off_sec=mktime(gensub(/[-:+]/," ","g",$1" "$2));
  if (on_time) {
    duration = off_sec - on_sec;
    print strftime("%m/%d %H:%M", on_sec), strftime("%H:%M", off_sec), strftime("%H:%M:%S", duration, 1);
    on_time=""
  }
}'
